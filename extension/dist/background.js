(()=>{var le=Object.create,W=Object.defineProperty,ce=Object.getPrototypeOf,Ae=Object.prototype.hasOwnProperty,ue=Object.getOwnPropertyNames,fe=Object.getOwnPropertyDescriptor;var de=e=>W(e,"__esModule",{value:!0});var xe=(e,r)=>()=>(r||(r={exports:{}},e(r.exports,r)),r.exports);var pe=(e,r,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of ue(r))!Ae.call(e,o)&&o!=="default"&&W(e,o,{get:()=>r[o],enumerable:!(i=fe(r,o))||i.enumerable});return e},be=e=>e&&e.__esModule?e:pe(de(W(e!=null?le(ce(e)):{},"default",{value:e,enumerable:!0})),e);var Y=xe((D,Q)=>{(function(e,r){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],r);else if(typeof D!="undefined")r(Q);else{var i={exports:{}};r(i),e.browser=i.exports}})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:D,function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser=="undefined"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let r="The message port closed before a response was received.",i=o=>{let m={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(m).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class l extends WeakMap{constructor(n,t=void 0){super(t);this.createItem=n}get(n){return this.has(n)||this.set(n,this.createItem(n)),super.get(n)}}let c=s=>s&&typeof s=="object"&&typeof s.then=="function",u=(s,n)=>(...t)=>{o.runtime.lastError?s.reject(new Error(o.runtime.lastError.message)):n.singleCallbackArg||t.length<=1&&n.singleCallbackArg!==!1?s.resolve(t[0]):s.resolve(t)},d=s=>s==1?"argument":"arguments",w=(s,n)=>function(a,...A){if(A.length<n.minArgs)throw new Error(`Expected at least ${n.minArgs} ${d(n.minArgs)} for ${s}(), got ${A.length}`);if(A.length>n.maxArgs)throw new Error(`Expected at most ${n.maxArgs} ${d(n.maxArgs)} for ${s}(), got ${A.length}`);return new Promise((x,h)=>{if(n.fallbackToNoCallback)try{a[s](...A,u({resolve:x,reject:h},n))}catch(g){console.warn(`${s} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,g),a[s](...A),n.fallbackToNoCallback=!1,n.noCallback=!0,x()}else n.noCallback?(a[s](...A),x()):a[s](...A,u({resolve:x,reject:h},n))})},S=(s,n,t)=>new Proxy(n,{apply(a,A,x){return t.call(A,s,...x)}}),p=Function.call.bind(Object.prototype.hasOwnProperty),b=(s,n={},t={})=>{let a=Object.create(null),A={has(h,g){return g in s||g in a},get(h,g,y){if(g in a)return a[g];if(!(g in s))return;let f=s[g];if(typeof f=="function")if(typeof n[g]=="function")f=S(s,s[g],n[g]);else if(p(t,g)){let O=w(g,t[g]);f=S(s,s[g],O)}else f=f.bind(s);else if(typeof f=="object"&&f!==null&&(p(n,g)||p(t,g)))f=b(f,n[g],t[g]);else if(p(t,"*"))f=b(f,n[g],t["*"]);else return Object.defineProperty(a,g,{configurable:!0,enumerable:!0,get(){return s[g]},set(O){s[g]=O}}),f;return a[g]=f,f},set(h,g,y,f){return g in a?a[g]=y:s[g]=y,!0},defineProperty(h,g,y){return Reflect.defineProperty(a,g,y)},deleteProperty(h,g){return Reflect.deleteProperty(a,g)}},x=Object.create(s);return new Proxy(x,A)},v=s=>({addListener(n,t,...a){n.addListener(s.get(t),...a)},hasListener(n,t){return n.hasListener(s.get(t))},removeListener(n,t){n.removeListener(s.get(t))}}),C=new l(s=>typeof s!="function"?s:function(t){let a=b(t,{},{getContent:{minArgs:0,maxArgs:0}});s(a)}),j=new l(s=>typeof s!="function"?s:function(t,a,A){let x=!1,h,g=new Promise(M=>{h=function(T){x=!0,M(T)}}),y;try{y=s(t,a,h)}catch(M){y=Promise.reject(M)}let f=y!==!0&&c(y);if(y!==!0&&!f&&!x)return!1;let O=M=>{M.then(T=>{A(T)},T=>{let U;T&&(T instanceof Error||typeof T.message=="string")?U=T.message:U="An unexpected error occurred",A({__mozWebExtensionPolyfillReject__:!0,message:U})}).catch(T=>{console.error("Failed to send onMessage rejected reply",T)})};return O(f?y:g),!0}),N=({reject:s,resolve:n},t)=>{o.runtime.lastError?o.runtime.lastError.message===r?n():s(new Error(o.runtime.lastError.message)):t&&t.__mozWebExtensionPolyfillReject__?s(new Error(t.message)):n(t)},P=(s,n,t,...a)=>{if(a.length<n.minArgs)throw new Error(`Expected at least ${n.minArgs} ${d(n.minArgs)} for ${s}(), got ${a.length}`);if(a.length>n.maxArgs)throw new Error(`Expected at most ${n.maxArgs} ${d(n.maxArgs)} for ${s}(), got ${a.length}`);return new Promise((A,x)=>{let h=N.bind(null,{resolve:A,reject:x});a.push(h),t.sendMessage(...a)})},$={devtools:{network:{onRequestFinished:v(C)}},runtime:{onMessage:v(j),onMessageExternal:v(j),sendMessage:P.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:P.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},_={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return m.privacy={network:{"*":_},services:{"*":_},websites:{"*":_}},b(o,$,m)};e.exports=i(chrome)}else e.exports=globalThis.browser})});function G(e){return new Proxy(e,{get(r,i){return typeof r[i]!="function"?new G(r[i]):(...o)=>new Promise((m,l)=>{r[i](...o,c=>{chrome.runtime.lastError?l(new Error(chrome.runtime.lastError.message)):m(c)})})}})}var he=typeof window=="object"&&(window.browser||new G(window.chrome)),F=he;var J=/^(https?|wss?|file|ftp|\*):\/\/(\*|\*\.[^*/]+|[^*/]+)\/.*$|^file:\/\/\/.*$|^resource:\/\/(\*|\*\.[^*/]+|[^*/]+)\/.*$|^about:/,ye=typeof navigator=="object"&&navigator.userAgent.includes("Firefox/");function we(e){if(!J.test(e))throw new Error(e+" is an invalid pattern, it must match "+String(J));let[,r,i,o]=e.split(/(^[^:]+:[/][/])([^/]+)?/);return r=r.replace("*",ye?"(https?|wss?)":"https?").replace(/[/]/g,"[/]"),i=(i??"").replace(/^[*][.]/,"([^/]+.)*").replace(/^[*]$/,"[^/]+").replace(/[.]/g,"[.]").replace(/[*]$/g,"[^.]+"),o=o.replace(/[/]/g,"[/]").replace(/[.]/g,"[.]").replace(/[*]/g,".*"),"^"+r+i+"("+o+")?$"}function Z(...e){return e.includes("<all_urls>")?/^(https?|file|ftp):[/]+/:new RegExp(e.map(we).join("|"))}async function Te(e){return F.permissions.contains({origins:[new URL(e).origin+"/*"]})}async function Se(e,r){let i=await F.tabs.executeScript(e,{code:r,runAt:"document_start"});return i==null?void 0:i[0]}typeof chrome=="object"&&!chrome.contentScripts&&(chrome.contentScripts={async register(e,r){let{js:i=[],css:o=[],allFrames:m,matchAboutBlank:l,matches:c,runAt:u}=e,d=`document[${JSON.stringify(JSON.stringify({js:i,css:o}))}]`,w=Z(...c),S=async(b,v,{url:C})=>{if(!(!C||!w.test(C)||!await Te(C)||await Se(b,d))){for(let j of o)chrome.tabs.insertCSS(b,{...j,matchAboutBlank:l,allFrames:m,runAt:u??"document_start"});for(let j of i)chrome.tabs.executeScript(b,{...j,matchAboutBlank:l,allFrames:m,runAt:u});chrome.tabs.executeScript(b,{code:`${d} = true`,runAt:"document_start",allFrames:m})}};chrome.tabs.onUpdated.addListener(S);let p={async unregister(){F.tabs.onUpdated.removeListener(S)}};return typeof r=="function"&&r(p),Promise.resolve(p)}});function je(){return ve(chrome.runtime.getManifest())}function ve(e){var r,i;let o={origins:[],permissions:[]},m=new Set([...(r=e.permissions)!==null&&r!==void 0?r:[],...((i=e.content_scripts)!==null&&i!==void 0?i:[]).flatMap(l=>{var c;return(c=l.matches)!==null&&c!==void 0?c:[]})]);for(let l of m)l.includes("://")?o.origins.push(l):o.permissions.push(l);return o}var ke=/:[/][/][*.]*([^/]+)/;function z(e){return e.split(ke)[1]}async function H(e){return new Promise(r=>{chrome.permissions.getAll(i=>{let o=je();r(Ce(o,i,e))})})}async function Ce(e,r,{strictOrigins:i=!0}={}){var o,m;let l={origins:[],permissions:[]};for(let c of(o=r.origins)!==null&&o!==void 0?o:[])if(!e.origins.includes(c)){if(!i){let u=z(c);if(e.origins.some(w=>z(w)===u))continue}l.origins.push(c)}for(let c of(m=r.permissions)!==null&&m!==void 0?m:[])e.permissions.includes(c)||l.permissions.push(c);return l}var V=new Map;function K(e){return{file:new URL(e,location.origin).pathname}}async function X({origins:e}){let r=chrome.runtime.getManifest().content_scripts;for(let i of e||[])for(let o of r){let m=chrome.contentScripts.register({js:(o.js||[]).map(K),css:(o.css||[]).map(K),allFrames:o.all_frames,matches:[i],runAt:o.run_at});V.set(i,m)}}(async()=>{X(await H())})();chrome.permissions.onAdded.addListener(e=>{e.origins&&e.origins.length>0&&X(e)});chrome.permissions.onRemoved.addListener(async({origins:e})=>{if(!(!e||e.length===0))for(let[r,i]of V)e.includes(r)&&(await i).unregister()});var k=be(Y());var Pe=typeof global=="object"&&global&&global.Object===Object&&global,ee=Pe;var Oe=typeof self=="object"&&self&&self.Object===Object&&self,Ee=ee||Oe||Function("return this")(),I=Ee;var _e=I.Symbol,E=_e;var re=Object.prototype,Me=re.hasOwnProperty,Re=re.toString,R=E?E.toStringTag:void 0;function Le(e){var r=Me.call(e,R),i=e[R];try{e[R]=void 0;var o=!0}catch(l){}var m=Re.call(e);return o&&(r?e[R]=i:delete e[R]),m}var se=Le;var Ne=Object.prototype,$e=Ne.toString;function Fe(e){return $e.call(e)}var ne=Fe;var Ie="[object Null]",Be="[object Undefined]",te=E?E.toStringTag:void 0;function Ue(e){return e==null?e===void 0?Be:Ie:te&&te in Object(e)?se(e):ne(e)}var ie=Ue;function We(e){return e!=null&&typeof e=="object"}var oe=We;var De="[object Symbol]";function qe(e){return typeof e=="symbol"||oe(e)&&ie(e)==De}var ae=qe;function Ge(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var L=Ge;var ge=0/0,Je=/^\s+|\s+$/g,Ze=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,He=/^0o[0-7]+$/i,Ve=parseInt;function Ke(e){if(typeof e=="number")return e;if(ae(e))return ge;if(L(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=L(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(Je,"");var i=ze.test(e);return i||He.test(e)?Ve(e.slice(2),i?2:8):Ze.test(e)?ge:+e}var q=Ke;var Xe=function(){return I.Date.now()},B=Xe;var Qe="Expected a function",Ye=Math.max,er=Math.min;function rr(e,r,i){var o,m,l,c,u,d,w=0,S=!1,p=!1,b=!0;if(typeof e!="function")throw new TypeError(Qe);r=q(r)||0,L(i)&&(S=!!i.leading,p="maxWait"in i,l=p?Ye(q(i.maxWait)||0,r):l,b="trailing"in i?!!i.trailing:b);function v(t){var a=o,A=m;return o=m=void 0,w=t,c=e.apply(A,a),c}function C(t){return w=t,u=setTimeout(P,r),S?v(t):c}function j(t){var a=t-d,A=t-w,x=r-a;return p?er(x,l-A):x}function N(t){var a=t-d,A=t-w;return d===void 0||a>=r||a<0||p&&A>=l}function P(){var t=B();if(N(t))return $(t);u=setTimeout(P,j(t))}function $(t){return u=void 0,b&&o?v(t):(o=m=void 0,c)}function _(){u!==void 0&&clearTimeout(u),w=0,o=d=m=u=void 0}function s(){return u===void 0?c:$(B())}function n(){var t=B(),a=N(t);if(o=arguments,m=this,d=t,a){if(u===void 0)return C(d);if(p)return clearTimeout(u),u=setTimeout(P,r),v(d)}return u===void 0&&(u=setTimeout(P,r)),c}return n.cancel=_,n.flush=s,n}var me=rr;function sr(e){try{k.default.tabs.executeScript(e,{file:"dist/inject/inject.js"})}catch(r){console.error(r)}}var nr=me(sr,16);k.default.tabs&&(k.default.tabs.onUpdated.addListener((e,r,i)=>{(r.url??i.url??"").includes("github.com")&&(nr(e),console.log("Tab update"))}),console.log("Registered tabs"));k.default.runtime.onInstalled.addListener(async function({reason:e}){if(e=="install"){let{os:r}=await k.default.runtime.getPlatformInfo();r==="mac"?await k.default.tabs.create({url:"https://github.com/Jarred-Sumner/1-click-from-github-to-editor/blob/main/POST-INSTALL-MAC.md"}):await k.default.tabs.create({url:"https://github.com/Jarred-Sumner/1-click-from-github-to-editor/blob/main/POST-INSTALL.md"})}});})();
